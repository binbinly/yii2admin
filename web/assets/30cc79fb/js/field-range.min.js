/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2016
 * @version 1.3.1
 *
 * Client validation extension for the yii2-field-range extension
 * 
 * Author: Kartik Visweswaran
 * Copyright: 2015, Kartik Visweswaran, Krajee.com
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */!function(a){"use strict";var b,c,d;b=function(a){return"[object Array]"===Object.prototype.toString.call(a)||"[object Object]"===Object.prototype.toString.call(a)},c=function(b,c){var e,d=a("#"+b).closest("."+c);d.length&&(e="has-success"===c?"has-error":"has-success",d.removeClass(e).addClass(c))},d=function(b,c){var d=this;d.$attrTo=a(b),d.$attrFrom=a("#"+c.attrFrom),d.$mainContainer=a("#"+c.container),d.$errorContainer=a("#"+c.errorContainer),d.$errorBlockFrom=d.$attrFrom.closest(".kv-container-from").find(".help-block"),d.$errorBlockTo=d.$attrTo.closest(".kv-container-to").find(".help-block"),d.$errorBlock=d.$errorContainer.find(".help-block"),d.$form=d.$attrFrom.closest("form"),d.errorToMsg="",d.init()},d.prototype={constructor:d,init:function(){var a=this;a.$errorBlockFrom.hide(),a.$errorBlockTo.hide(),a.$form.on("reset.yiiActiveForm",function(){setTimeout(function(){a.reset()},100)}),a.$form.on("afterValidate",function(b,c){var d=a.$attrFrom.attr("id"),e=a.$attrTo.attr("id");d in c&&a.validateAttribute(c[d],d,e),e in c&&a.validateAttribute(c[e],d,e)}),a.$form.on("afterValidateAttribute",function(b,c,d){var e=a.$attrFrom.attr("id"),f=a.$attrTo.attr("id");a.$errorBlock.html(""),a.$errorContainer.removeClass("has-success has-error"),c.id!==e&&c.id!==f||a.validateAttribute(d,e,f)})},validateAttribute:function(a,d,e){var f=this,g=a.length,h="";b(a)&&g?h=1===g?a[0]:a.join("</li><li>"):g>0&&(h=a),h?(f.$errorBlock.html(h),f.$errorContainer.addClass("has-error")):f.$errorContainer.addClass("has-success"),a&&a.length?(c(d,"has-error"),c(e,"has-error")):(c(d,"has-success"),c(e,"has-success"))},reset:function(){var a=this;a.$errorBlock.html(""),a.$errorContainer.removeClass("has-success has-error"),a.$mainContainer.removeClass("has-success has-error")}},a.fn.kvFieldRange=function(b){var c=Array.apply(null,arguments);return c.shift(),this.each(function(){var e=a(this),f=e.data("kvFieldRange"),g="object"==typeof b&&b;f||(f=new d(this,a.extend({},a.fn.kvFieldRange.defaults,g,e.data())),e.data("kvFieldRange",f)),"string"==typeof b&&f[b].apply(f,c)})},a.fn.kvFieldRange.defaults={attrFrom:"",container:"",errorContainer:""},a.fn.kvFieldRange.Constructor=d}(window.jQuery);